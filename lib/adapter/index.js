var _sv = require('semver');
var _TS_1_6 = require('./TS_1_6');
var _TS_1_7 = require('./TS_1_7');
var _lang = require('../lang');
var _util = require('../util');
function load(ts) {
    if (!_lang.isObject(ts) || !_lang.isString(ts.version)) {
        throw new _util.PluginError("The provided object is not a valid TypeScript module");
    }
    if (_sv.satisfies(ts.version, _TS_1_6.VERSION)) {
        return new _TS_1_6(ts);
    }
    if (_sv.satisfies(ts.version, _TS_1_7.VERSION)) {
        return new _TS_1_7(ts);
    }
    throw new _util.PluginError(("The provided TypeScript module version '" + ts.version + "' is not supported, ") +
        ("supported versions are '" + _TS_1_6.VERSION + "' and '" + _TS_1_7.VERSION + "'"));
}
exports.load = load;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6WyJsb2FkIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFPLEdBQUcsV0FBVyxRQUFRLENBQUMsQ0FBQztBQUMvQixJQUFPLE9BQU8sV0FBVyxVQUFVLENBQUMsQ0FBQztBQUNyQyxJQUFPLE9BQU8sV0FBVyxVQUFVLENBQUMsQ0FBQztBQUVyQyxJQUFPLEtBQUssV0FBVyxTQUFTLENBQUMsQ0FBQztBQUNsQyxJQUFPLEtBQUssV0FBVyxTQUFTLENBQUMsQ0FBQztBQUVsQyxjQUFxQixFQUFPO0lBQ3hCQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxRQUFRQSxDQUFDQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxRQUFRQSxDQUFDQSxFQUFFQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNyREEsTUFBTUEsSUFBSUEsS0FBS0EsQ0FBQ0EsV0FBV0EsQ0FBQ0Esc0RBQXNEQSxDQUFDQSxDQUFDQTtJQUN4RkEsQ0FBQ0E7SUFDREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsT0FBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDN0NBLE1BQU1BLENBQUNBLElBQUlBLE9BQU9BLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO0lBQzNCQSxDQUFDQTtJQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxTQUFTQSxDQUFDQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUM3Q0EsTUFBTUEsQ0FBQ0EsSUFBSUEsT0FBT0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7SUFDM0JBLENBQUNBO0lBQ0RBLE1BQU1BLElBQUlBLEtBQUtBLENBQUNBLFdBQVdBLENBQUNBLDhDQUEyQ0EsRUFBRUEsQ0FBQ0EsT0FBT0EsMEJBQXNCQTtRQUNuR0EsOEJBQTJCQSxPQUFPQSxDQUFDQSxPQUFPQSxlQUFVQSxPQUFPQSxDQUFDQSxPQUFPQSxPQUFHQSxDQUFDQSxDQUFDQTtBQUNoRkEsQ0FBQ0E7QUFaZSxZQUFJLE9BWW5CLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX3N2ID0gcmVxdWlyZSgnc2VtdmVyJyk7XG5pbXBvcnQgX1RTXzFfNiA9IHJlcXVpcmUoJy4vVFNfMV82Jyk7XG5pbXBvcnQgX1RTXzFfNyA9IHJlcXVpcmUoJy4vVFNfMV83Jyk7XG5pbXBvcnQgX2NvbXBpbGVyID0gcmVxdWlyZSgnLi4vY29tcGlsZXInKTtcbmltcG9ydCBfbGFuZyA9IHJlcXVpcmUoJy4uL2xhbmcnKTtcbmltcG9ydCBfdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQodHM6IGFueSk6IF9jb21waWxlci5Db21waWxlciB7XG4gICAgaWYgKCFfbGFuZy5pc09iamVjdCh0cykgfHwgIV9sYW5nLmlzU3RyaW5nKHRzLnZlcnNpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBfdXRpbC5QbHVnaW5FcnJvcihgVGhlIHByb3ZpZGVkIG9iamVjdCBpcyBub3QgYSB2YWxpZCBUeXBlU2NyaXB0IG1vZHVsZWApO1xuICAgIH1cbiAgICBpZiAoX3N2LnNhdGlzZmllcyh0cy52ZXJzaW9uLCBfVFNfMV82LlZFUlNJT04pKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1RTXzFfNih0cyk7XG4gICAgfVxuICAgIGlmIChfc3Yuc2F0aXNmaWVzKHRzLnZlcnNpb24sIF9UU18xXzcuVkVSU0lPTikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfVFNfMV83KHRzKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IF91dGlsLlBsdWdpbkVycm9yKGBUaGUgcHJvdmlkZWQgVHlwZVNjcmlwdCBtb2R1bGUgdmVyc2lvbiAnJHt0cy52ZXJzaW9ufScgaXMgbm90IHN1cHBvcnRlZCwgYCArXG4gICAgICAgIGBzdXBwb3J0ZWQgdmVyc2lvbnMgYXJlICcke19UU18xXzYuVkVSU0lPTn0nIGFuZCAnJHtfVFNfMV83LlZFUlNJT059J2ApO1xufVxuIl19